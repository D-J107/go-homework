
# GitFame

**GitFame** — это консольная утилита, написанная на Go, для анализа вклада разработчиков в Git-репозитории. Она собирает и агрегирует статистику по авторам коммитов: количество строк, количество уникальных коммитов и число файлов, в которых производились изменения.

Проект выполнен в рамках учебного курса, но представляет собой полнофункциональное CLI-приложение и может использоваться как инструмент в реальных рабочих сценариях. 

---

## GitFame позволяет
- Анализировать изменения в репозитории на определённой ревизии (`--revision`, по умолчанию `HEAD`).
- Подсчитывать количество строк, коммитов и файлов по каждому автору.
- Ограничивать анализ по расширениям, языкам или glob-паттернам.
- Использовать автора или коммиттера как источник авторства (`--use-committer`).
- Выводить результат в форматах: `tabular`, `csv`, `json`, `json-lines`.

Пример вывода:
```
Name         Lines Commits Files
Alice Smith  1023  17      12
Bob Johnson  541   9       8
```

### Библиотеки
- [`pflag`](https://github.com/spf13/pflag) — для расширенной работы с CLI-флагами.
- `os/exec` — выполнение Git-команд в подкапотной логике.
- `text/tabwriter`, `encoding/json`, `encoding/csv` — для гибкого вывода результата.

---

## Многопоточность и синхронизация

Для ускорения обработки большого числа файлов используется **worker pool** с настраиваемым числом потоков (`--cpu-count`).

Используемые паттерны и технологии:
- **Worker Pool** — ограничение количества одновременно работающих горутин.
- **WaitGroup** — ожидание завершения всех задач.
- **Каналы** — для передачи сигналов об ошибках и синхронизации доступа к общим структурам.
- **Ручная блокировка через буферизованные каналы** — альтернатива стандартным мьютексам, что упростило и сделало код прозрачнее.

---

## Примеры запуска

```bash
# Анализ всех .go и .md файлов
gitfame --repository=. --extensions='.go,.md' --order-by=lines

# Только файлы написанные на Go и Markdown
gitfame --languages='go,markdown' --format=json

# Учитывать только коммиттера, а не автора
gitfame --use-committer --format=csv

# Исключить директории vendor и testdata
gitfame --exclude='vendor/*,testdata/*'
```
